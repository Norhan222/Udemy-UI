<div class="edit-profile-card">
  <h3>Edit Profile</h3>

  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">

    <div class="avatar-preview">
      <img *ngIf="imagePreview" [src]="imagePreview">
      <div *ngIf="!imagePreview" class="avatar-fallback">
        {{ profileForm.value.firstName?.charAt(0) }}
      </div>
    </div>

    <input type="file" accept="image/*" (change)="onFileChange($event)">

    <div class="form-group">
      <label>First Name</label>
      <input type="text" formControlName="firstName">
    </div>

    <div class="form-group">
      <label>Last Name</label>
      <input type="text" formControlName="lastName">
    </div>

    <button type="submit" [disabled]="isLoading || profileForm.invalid">
      {{ isLoading ? 'Saving...' : 'Save' }}
    </button>

    <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
    <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>

  </form>
</div>
