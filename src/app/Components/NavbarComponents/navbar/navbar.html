<nav class="navbar navbar-udemy">
  <div class="navbar-container">
    <div class="navbar-content">
      <!-- Hamburger Menu -->
      <button class="hamburger-menu" id="hamburgerBtn" type="button">
        <i class="bi bi-list"></i>
      </button>

      <!-- Logo -->
      <a class="navbar-brand" routerLink="/Home">
        <img src="https://www.udemy.com/staticx/udemy/images/v7/logo-udemy.svg" alt="Udemy" />
      </a>

      <!-- Explore Link -->
      <!-- <a href="#" class="nav-link-explore">Explore</a> -->
      <app-explore-menu></app-explore-menu>


      <!-- Search Bar -->
      <div class="search-container">
        <form class="search-form" (submit)="onSearch($event)">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" [placeholder]="'HOME.SEARCH_PLACEHOLDER' | translate" name="q"
            [(ngModel)]="searchQuery">
        </form>
      </div>
      <!-- Navigation Links -->
      <div class="nav-links">
        <a href="#" class="nav-link-text">{{ 'NAV.PLANS_PRICING' | translate }}</a>
        <a href="#" class="nav-link-text">{{ 'NAV.UDEMY_BUSINESS' | translate }}</a>
        @if(!(isLoggdIn$ |async)){
        <a href="#" class="nav-link-text">{{ 'NAV.TEACH_ON_UDEMY' | translate }}</a>
        }
        @if((isLoggdIn$ |async)){
        <a routerLink="/dashboard/courses" class="nav-link-text">{{ 'NAV.INSTRUCTOR' | translate }}</a>
        <a routerLink="/my-learning" class="nav-link-text">{{ 'NAV.MY_LEARNING' | translate }}</a>
        }
      </div>

      <div class="nav-icons">
        <!-- @if((isLoggdIn$)){
                <a href="#" class="cart-icon">
                <i class="bi bi-heart"></i>
                </a>
              }
                <a routerLink="/Cart" class="cart-icon">
                  <i class="bi bi-cart3"></i>
                </a>

                @if((isLoggdIn$)){
                <a href="#" class="cart-icon">
                <i class="bi bi-bell"></i>
                </a>
              } -->
        <a class="cart-icon" (click)="goToCart()">
          <i class="bi bi-cart3"></i>
        </a>

      </div>

      <!-- Cart Icon -->

      @if(!(isLoggdIn$ |async)){
      <!-- Login Button -->
      <a class="btn-login" routerLink="Login">{{ 'HOME.LOG_IN' | translate }}</a>

      <!-- Sign up Button -->
      <a class="btn-signup" routerLink="Register">{{ 'HOME.SIGN_UP' | translate }}</a>

      <!-- Language Icon -->
      <a href="#" class="lang-icon">
        <i class="fas fa-globe"></i>
      </a>
      }
      @if((isLoggdIn$ |async)){
      <!-- <div class="profile">
                <span class="avatar">NA</span>

              </div> -->
      <app-user-menu></app-user-menu>
      }
      <!-- Avatar -->


    </div>


    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <a href="#" class="mobile-menu-item">Explore</a>
      <a href="#" class="mobile-menu-item">Plans & Pricing</a>
      <a href="#" class="mobile-menu-item">Udemy Business</a>
      <a href="#" class="mobile-menu-item">Teach on Udemy</a>
    </div>
  </div>
</nav>

<!-- Bootstrap JS -->

<!--
    <script>
        // Search form submission
        const searchForm = document.querySelector('.search-form');
        searchForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const searchQuery = this.querySelector('.search-input').value;
            if (searchQuery.trim()) {
                console.log('Searching for: ' + searchQuery);
            }
        });

        // Mobile menu toggle
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const mobileMenu = document.getElementById('mobileMenu');

        hamburgerBtn.addEventListener('click', function() {
            mobileMenu.classList.toggle('show');
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!hamburgerBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
                mobileMenu.classList.remove('show');
            }
        });

        // Close mobile menu when clicking on a menu item
        const mobileMenuItems = document.querySelectorAll('.mobile-menu-item');
        mobileMenuItems.forEach(item => {
            item.addEventListener('click', function() {
                mobileMenu.classList.remove('show');
            });
        });


        const exploreLink = document.getElementById('exploreLink');
          const exploreDropdown = document.getElementById('exploreDropdown');
          const exploreWrapper = document.querySelector('.explore-wrapper');

          if (exploreLink && exploreDropdown) {
            // Toggle dropdown on click
            exploreLink.addEventListener('click', function (e) {
              e.preventDefault();
              const isOpen = exploreDropdown.classList.contains('show');
              if (isOpen) {
                exploreDropdown.classList.remove('show');
                exploreLink.classList.remove('active');
              } else {
                exploreDropdown.classList.add('show');
                exploreLink.classList.add('active');
              }
            });
             document.addEventListener('click', function (e) {
              if (!exploreWrapper.contains(e.target)) {
                exploreDropdown.classList.remove('show');
                exploreLink.classList.remove('active');
              }
            });

            // Items in first column (categories)
            const categoryItems = document.querySelectorAll('.explore-item[data-category]');
            categoryItems.forEach(item => {
              item.addEventListener('click', function (e) {
                e.preventDefault();

                // remove active from all
                categoryItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                const submenuId = this.getAttribute('data-submenu');

                // hide all submenus + topics
                document.querySelectorAll('.explore-submenu').forEach(sub => sub.classList.remove('show'));
                document.querySelectorAll('.explore-topics').forEach(t => t.classList.remove('show'));

                // if has submenu (e.g. Development) -> show it and default topics
                if (submenuId) {
                  const submenu = document.getElementById(submenuId);
                  if (submenu) {
                    submenu.classList.add('show');
                  }

                  const defaultTopics = document.getElementById('webdev-topics');
                  if (defaultTopics) {
                    defaultTopics.classList.add('show');
                  }
                }
              });
            });

            // Items in second column (topics list)
            const topicItems = document.querySelectorAll('.explore-item[data-topic]');
            topicItems.forEach(item => {
              item.addEventListener('click', function (e) {
                e.preventDefault();

                // active state
                topicItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                const topicsId = this.getAttribute('data-topics');
                if (topicsId) {
                  document.querySelectorAll('.explore-topics').forEach(t => t.classList.remove('show'));
                  const topics = document.getElementById(topicsId);
                  if (topics) {
                    topics.classList.add('show');
                  }
                }
              });
            });
          }

    </script> -->