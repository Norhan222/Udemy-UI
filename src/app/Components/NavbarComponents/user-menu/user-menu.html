<div class="profile-wrapper"
     (pointerenter)="openMenu()"
     (pointerleave)="closeMenu()">

  <!-- Avatar -->
  <!-- <div class="avatar">
    <img *ngIf="user.profileImageUrl; else initials"
         [src]="user.profileImageUrl"
         alt="avatar" />
    <ng-template #initials>
      {{ (user.firstName + ' ' + user.lastName) | intiials }}
    </ng-template>
  </div> -->
  @if(userData$ |async; as userr){
  @if(userr.profileImageUrl){
    <img class="profileImage" [src]="userr.profileImageUrl"/>
  }

  @else{
  <div class="avatar">
        {{ (userr.firstName + ' ' + userr.lastName) | intiials }}
    </div>
  }


  <span class="notification-badge"></span>

  <!-- Dropdown -->
  <div class="dropdown" *ngIf="isOpen">

    <!-- User Info -->
    <div class="user-info">
      @if((userr.profileImageUrl)){
      <img class="avatarProfile" [src]="(userr.profileImageUrl)" />
      }

      @else{
              <div class="avatar big">

      <div class="avatar">
        {{ (userr.firstName + ' ' + userr.lastName) | intiials }}
      </div>
            </div>

      }

        <!-- <img  *ngIf="user.profileImageUrl; else initialsBig"
             [src]="user.profileImageUrl" />
        <ng-template #initialsBig>
          {{ (user.firstName + ' ' + user.lastName) | intiials }}
        </ng-template> -->

      <div class="us">
        <h5>{{ (userr.firstName + ' ' + userr.lastName) | capitalize }}</h5>
        <p>{{ userr.email }}</p>
        <a class="btn btn-danger btn-sm fw-semibold" (click)="logout()">
          Logout
        </a>
      </div>
    </div>

    <hr />
    <!-- Links -->
    <a routerLink="/my-learning" routerLinkActive="active">My learning</a>
    <a routerLink="/Cart" routerLinkActive="active">My cart</a>
    <a  >Wishlist</a>
    @if(user.role==='Instructor'){
    <a (click)="navigateToInstructorDashboard()">Instructor dashboard</a>
    }
    <hr />

    <a>Notifications</a>
    <a>
      Messages
      <span class="badge">2</span>
    </a>

    <hr />

    <a (click)="navigateToProfile()" style="cursor:pointer">Account settings</a>
    <a>Payment methods</a>
    <a>Subscriptions</a>
    <a>Purchase history</a>

    <hr />

    <a class="logout" (click)="logout()">Log out</a>
  </div>

  }
