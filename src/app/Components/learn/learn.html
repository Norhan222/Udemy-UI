<div class="learn-container" *ngIf="!loading && course; else loadingTpl">
  <!-- ======= Video Player ======= -->
  <div class="video-section">
    <video #videoPlayer controls [src]="selectedLecture?.videoUrl" class="video-player"></video>
    <h2 class="lecture-title">{{ selectedLecture?.title }}</h2>
   <p class="course-description">
  {{ course.description | slice:0:200 }}
  <span *ngIf="course.description.length > 200">... 
    <a href="#" (click)="showFullDescription = !showFullDescription; $event.preventDefault()">
      {{ showFullDescription ? 'Show less' : 'Read more' }}
    </a>
  </span>
</p>

<!-- Full description عند الضغط -->
<p *ngIf="showFullDescription">{{ course.description }}</p>

  </div>

  <!-- ======= Sidebar Sections ======= -->
  <div class="sidebar">
    <h3>{{ course.title }} Sections</h3>
    <div *ngFor="let section of course.sections" class="section">
      <h4>{{ section.title }}</h4>
      <ul>
        <li *ngFor="let lecture of section.lectures" 
            (click)="selectLecture(lecture)"
            [class.active]="lecture.id === selectedLecture?.id">
          {{ lecture.title }}
        </li>
      </ul>
    </div>
  </div>
</div>

<ng-template #loadingTpl>
  <div class="loading">Loading course content...</div>
</ng-template>
